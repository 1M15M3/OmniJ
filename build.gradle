ext.groovyVersion = '2.4.3'

apply from: 'gradle/groovydoc.gradle'
apply from: 'gradle/idea.gradle'

allprojects {
    apply plugin: 'java'
    apply plugin: 'groovy'

    repositories {
        jcenter()
//      maven { url 'https://oss.sonatype.org/content/repositories/snapshots/'}  // bitcoinj snapshots
    }
}

subprojects {

    dependencies {
        compile 'org.bitcoinj:bitcoinj-core:0.13.1'
        compile 'org.slf4j:slf4j-api:1.7.7'

        runtime 'org.slf4j:slf4j-jdk14:1.7.7'               // Runtime implementation of slf4j

        testCompile("org.spockframework:spock-core:1.0-groovy-2.4") {
            exclude module: "groovy-all"
        }
    }

    compileJava {
        options.compilerArgs << '-Xlint:unchecked'
    }

    test {
        testLogging.showStandardStreams = true
    }
}

task testReport(type: TestReport) {
    destinationDir = file("$buildDir/reports/allTests")
    // Include the results from the `test` task in all subprojects
    reportOn subprojects*.test
}

